From e5f9c1c838c7d29a3eb4d384205ce631f3fcafea Mon Sep 17 00:00:00 2001
From: Root <root@gentoo.local>
Date: Mon, 8 Feb 2021 15:28:49 +0100
Subject: [PATCH] appdata -> metadata

---
 .../BuildSteps/WritePlatformMetadata_linux.cmake     |  6 +++---
 resources/CMakeLists.txt                             | 12 ++++++------
 2 files changed, 9 insertions(+), 9 deletions(-)

diff --git a/CMakeModules/BuildSteps/WritePlatformMetadata_linux.cmake b/CMakeModules/BuildSteps/WritePlatformMetadata_linux.cmake
index 686925d329..64959b331a 100644
--- a/CMakeModules/BuildSteps/WritePlatformMetadata_linux.cmake
+++ b/CMakeModules/BuildSteps/WritePlatformMetadata_linux.cmake
@@ -39,11 +39,11 @@ include( ${CMAKE_MODULE_PATH}/KiCadFullVersion.cmake )
 string( TIMESTAMP KICAD_CONFIG_TIMESTAMP "%Y-%m-%d" )
 
 # Configure the KiCad appdata file
-configure_file( ${SRC_PATH}/resources/linux/appdata/kicad.appdata.xml.in
-                ${BUILD_PATH}/resources/linux/appdata/kicad.appdata.xml.in
+configure_file( ${SRC_PATH}/resources/linux/metainfo/kicad.appdata.xml.in
+                ${BUILD_PATH}/resources/linux/metainfo/kicad.appdata.xml.in
                 @ONLY )
 
 # Ensure the file was configured successfully
-if( NOT EXISTS ${BUILD_PATH}/resources/linux/appdata/kicad.appdata.xml.in )
+if( NOT EXISTS ${BUILD_PATH}/resources/linux/metainfo/kicad.appdata.xml.in )
     message( FATAL_ERROR "Configuration failed to write file kicad.appdata.xml.in" )
 endif()
diff --git a/resources/CMakeLists.txt b/resources/CMakeLists.txt
index d5406f27d6..d9cc83b54d 100644
--- a/resources/CMakeLists.txt
+++ b/resources/CMakeLists.txt
@@ -7,7 +7,7 @@ if( APPLE )
 elseif( UNIX )
     # Add the command to configure the linux appdata file with the version information
     add_custom_command(
-        OUTPUT ${PROJECT_BINARY_DIR}/resources/linux/appdata/kicad.appdata.xml.in
+        OUTPUT ${PROJECT_BINARY_DIR}/resources/linux/metainfo/kicad.appdata.xml.in
         COMMAND ${CMAKE_COMMAND}
             -DSRC_PATH=${PROJECT_SOURCE_DIR}
             -DBUILD_PATH=${PROJECT_BINARY_DIR}
@@ -19,8 +19,8 @@ elseif( UNIX )
 
     # Read the appdata from the binary directory because it has been configured by Cmake already
     # to have the version string in it
-    linux_metadata_translation( ${PROJECT_BINARY_DIR}/resources/linux/appdata/kicad.appdata.xml.in
-                                ${PROJECT_BINARY_DIR}/resources/linux/appdata/kicad.appdata.xml
+    linux_metadata_translation( ${PROJECT_BINARY_DIR}/resources/linux/metainfo/kicad.appdata.xml.in
+                                ${PROJECT_BINARY_DIR}/resources/linux/metainfo/kicad.appdata.xml
                                 ${PROJECT_SOURCE_DIR}/translation/pofiles )
 
     # All the desktop files are read from the source directory
@@ -58,7 +58,7 @@ elseif( UNIX )
                                 ${PROJECT_SOURCE_DIR}/translation/pofiles )
 
     add_custom_target( metadata ALL
-                       DEPENDS ${PROJECT_BINARY_DIR}/resources/linux/appdata/kicad.appdata.xml
+                       DEPENDS ${PROJECT_BINARY_DIR}/resources/linux/metainfo/kicad.appdata.xml
                                ${PROJECT_BINARY_DIR}/resources/linux/launchers/bitmap2component.desktop
                                ${PROJECT_BINARY_DIR}/resources/linux/launchers/eeschema.desktop
                                ${PROJECT_BINARY_DIR}/resources/linux/launchers/gerbview.desktop
@@ -95,8 +95,8 @@ elseif( UNIX )
              )
 
     # Install appstream metadata (app store entry)
-    install( DIRECTORY ${PROJECT_BINARY_DIR}/resources/linux/appdata/
-             DESTINATION ${CMAKE_INSTALL_DATADIR}/appdata
+    install( DIRECTORY ${PROJECT_BINARY_DIR}/resources/linux/metainfo/
+             DESTINATION ${CMAKE_INSTALL_DATADIR}/metainfo
              COMPONENT resources
              FILES_MATCHING
              PATTERN "*appdata.xml"
-- 
2.30.0

